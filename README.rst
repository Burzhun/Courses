Задание для фирмы крон. Я сделал фрагментированную загрузку видео в форме изменения, но не форме добавления уроков, так как так было удобнее. 
Еще удалил одну опцию в ffmpeg так как она вызывала ошибку для некоторых видео файлов.
Изменения можно посмотреть отдельно в коммите chunked video upload for lessons
